# Project Summary

`osbp_detect` is a lightweight toolkit for scanning Oxford Nanopore bulk FAST5 recordings and reporting single-molecule translocation events, especially Osmium-tagged oligonucleotides. The codebase centers on a rule-based detector accessed via both a CLI (`run.py`) and a Tkinter GUI (`gui.py`). Users point the tools at a FAST5 file and a set of pore channels; the CLI prints tab-separated event windows while the GUI wraps the same logic with dialogs for file selection, channel ranges, and Ir/Io thresholds.

The detection pipeline lives in two modules (`src/fast5_utils.py` and `src/signal_utils.py`). `OsBp_FAST5` abstracts away HDF5 reading, exposing each channel’s raw ADC samples plus metadata (digitisation, range, offset, sampling rate). `signal_utils` converts those samples to picoamps, trims the initial drift region, estimates the open-pore baseline by filtering values inside a configurable current band, and then looks for contiguous drops that satisfy simple duration and depth constraints. Events are only accepted when every point in the segment stays below a strict Ir/Io cap, minimizing multi-molecule artifacts. Threshold constants (default duration window, Io range, min/max Ir/Io) are defined in `run.py` and surfaced in the GUI, giving operators control without editing code.

Outputs include per-channel summaries—sampling rate, open current, and a list of (event_id, start_tp, end_tp, relative minimum current)—which can be redirected to TSV files for downstream analysis. Dependencies are limited to `h5py`, `numpy`, and Tkinter (stdlib), keeping installation as simple as `pip install -r requirements.txt`. Documentation comprises `README.md`, which outlines the Io/Ir heuristic and CLI usage, and `instructions.md`, which provides a Mac-focused setup guide. The repository intentionally stays lean: no bundled datasets, no automated tests, and permissive MIT licensing. Extending the project typically involves adding more sophisticated filters or analytics in `signal_utils`, seeding regression tests around synthetic traces, or enhancing the GUI to visualize detected events in real time.
